{% extends 'front.html.twig' %}

{% block title %}Ajouter une visite{% endblock %}

{% block body %}
    <h1>Ajouter une visite</h1>
    
    <form method="post" novalidate>
        <div class="form-group">
            <label for="user">Utilisateur</label>
            <select id="user" name="id_user" class="form-control" required>
                {% for user in users %}
                    <option value="{{ user.id }}">{{ user.name }} {{ user.surname }}</option> <!-- Affiche le nom complet -->
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="date">Date</label>
            <input type="date" id="date" name="date" class="form-control" required>
        </div>
        
        <div class="form-group">
            <label for="heure">Heure</label>
            <input type="time" id="heure" name="heure" class="form-control" required>
        </div>
        
        <div class="form-group">
            <label for="motif">Motif</label>
            <input type="text" id="motif" name="motif" class="form-control" required>
        </div>
        
        <div class="form-group">
            <label for="statut">Statut</label>
            <select id="statut" name="statut" class="form-control" required>
                <option value="En attente">En attente</option>
                <option value="Confirmée">Confirmée</option>
                <option value="Annulée">Annulée</option>
                <option value="Terminée">Terminée</option>
            </select>
        </div>
        
        <button type="submit" class="btn btn-primary">Enregistrer</button>
        <a href="{{ path('afficher_visite') }}" class="btn btn-secondary">Annuler</a>
    </form>
{% endblock %}